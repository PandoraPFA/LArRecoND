<pandora>
    <!-- GLOBAL SETTINGS -->
    <IsMonitoringEnabled>false</IsMonitoringEnabled>
    <ShouldDisplayAlgorithmInfo>false</ShouldDisplayAlgorithmInfo>
    <SingleHitTypeClusteringMode>true</SingleHitTypeClusteringMode>

    <!-- ALGORITHM SETTINGS -->
    <algorithm type = "LArPreProcessingThreeD">
        <OutputCaloHitListNameU>CaloHitListU</OutputCaloHitListNameU>
        <OutputCaloHitListNameV>CaloHitListV</OutputCaloHitListNameV>
        <OutputCaloHitListNameW>CaloHitListW</OutputCaloHitListNameW>
        <OutputCaloHitListName3D>CaloHitList3D</OutputCaloHitListName3D>
        <FilteredCaloHitListName>CaloHitList2D</FilteredCaloHitListName>
        <CurrentCaloHitListReplacement>CaloHitList2D</CurrentCaloHitListReplacement>
    </algorithm>

    <!-- Cheated 3D cluster creation -->
    <algorithm type = "LArClusteringParent">
        <algorithm type = "LArCheatingClusterCreation" description = "ClusterFormation">
            <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
            <MCParticleListName>Input</MCParticleListName>
        </algorithm>
        <InputCaloHitListName>CaloHitList3D</InputCaloHitListName>
        <ClusterListName>Clusters3D</ClusterListName>
        <ReplaceCurrentCaloHitList>false</ReplaceCurrentCaloHitList>
        <ReplaceCurrentClusterList>true</ReplaceCurrentClusterList>
    </algorithm>

    <algorithm type = "LArCreateTwoDClustersFromThreeD">
        <InputCaloHitListNameU>CaloHitListU</InputCaloHitListNameU>
        <InputCaloHitListNameV>CaloHitListV</InputCaloHitListNameV>
        <InputCaloHitListNameW>CaloHitListW</InputCaloHitListNameW>
        <InputClusterListName3D>Clusters3D</InputClusterListName3D>
        <OutputClusterListNameU>ClustersU</OutputClusterListNameU>
        <OutputClusterListNameV>ClustersV</OutputClusterListNameV>
        <OutputClusterListNameW>ClustersW</OutputClusterListNameW>
    </algorithm>

    <algorithm type = "LArVisualMonitoring">
        <CaloHitListNames>CaloHitList3D</CaloHitListNames>
        <ClusterListNames>Clusters3D ClustersU ClustersV ClustersW</ClusterListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm> 

    <!-- 3D neutrino vertex reconstruction -->
    <algorithm type = "LArCheatingVertexCreation">
        <OutputVertexListName>NVertices</OutputVertexListName>
        <ReplaceCurrentVertexList>true</ReplaceCurrentVertexList>
    </algorithm>    

    <algorithm type = "LArVisualMonitoring">
        <VertexListNames>NVertices</VertexListNames>
        <ClusterListNames>Clusters3D</ClusterListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm>

    <!-- 3D neutrino-induced event reconstruction -->
    <algorithm type = "LArCheatingPfoCreation">
        <InputClusterListNames>Clusters3D ClustersU ClustersV ClustersW</InputClusterListNames>
        <OutputPfoListName>NParticles3D</OutputPfoListName>
	<AddVertices>false</AddVertices>
        <CollapseToPrimaryMCParticles>false</CollapseToPrimaryMCParticles>
        <MCParticleListName>Input</MCParticleListName>
    </algorithm>

    <algorithm type = "LArVisualMonitoring">
	<PfoListNames>NParticles3D</PfoListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm>

    <!-- 3D neutrino event hierarchy -->
    <algorithm type = "LArCheatingNeutrinoCreation">
        <CollapseToPrimaryMCParticles>false</CollapseToPrimaryMCParticles>
        <MCParticleListName>Input</MCParticleListName>
        <NeutrinoPfoListName>NeutrinoParticles3D</NeutrinoPfoListName>
        <VertexListName>NVertices</VertexListName>
        <DaughterPfoListNames>NParticles3D</DaughterPfoListNames>
    </algorithm>
    <algorithm type = "LArCheatingNeutrinoDaughterVertices">
        <CollapseToPrimaryMCParticles>false</CollapseToPrimaryMCParticles>
        <MCParticleListName>Input</MCParticleListName>
        <NeutrinoPfoListName>NeutrinoParticles3D</NeutrinoPfoListName>
        <OutputVertexListName>NDaughterVertices3D</OutputVertexListName>
    </algorithm>

    <algorithm type = "LArVisualMonitoring">
	<PfoListNames>NeutrinoParticles3D NParticles3D</PfoListNames>
        <VertexListNames>NVertices NDaughterVertices3D</VertexListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm>

    <!-- Output list management -->
    <algorithm type = "LArPostProcessing">
        <PfoListNames>NeutrinoParticles3D NParticles3D</PfoListNames>
        <VertexListNames>NVertices NDaughterVertices3D</VertexListNames>
        <ClusterListNames>ClustersU ClustersV ClustersW Clusters3D</ClusterListNames>
        <CaloHitListNames>CaloHitListU CaloHitListV CaloHitListW CaloHitList2D CaloHitList3D</CaloHitListNames>
        <CurrentPfoListReplacement>NeutrinoParticles3D</CurrentPfoListReplacement>
    </algorithm>
</pandora>
