<pandora>
    <!-- GLOBAL SETTINGS -->
    <IsMonitoringEnabled>false</IsMonitoringEnabled>
    <ShouldDisplayAlgorithmInfo>false</ShouldDisplayAlgorithmInfo>
    <SingleHitTypeClusteringMode>true</SingleHitTypeClusteringMode>

    <!-- ALGORITHM SETTINGS -->
    <algorithm type = "LArCheatingRockMuonRemoval">
        <InputCaloHitListName>Input</InputCaloHitListName>
        <RockMuonCaloHitListName>RockMuonCaloHitList</RockMuonCaloHitListName>
        <NeutrinoCaloHitListName>NeutrinoCaloHitList</NeutrinoCaloHitListName>
        <MCParticleListName>Input</MCParticleListName>
    </algorithm>

    <algorithm type = "LArPreProcessingThreeD">
        <InputCaloHitListName>NeutrinoCaloHitList</InputCaloHitListName>
        <OutputCaloHitListNameU>CaloHitListU</OutputCaloHitListNameU>
        <OutputCaloHitListNameV>CaloHitListV</OutputCaloHitListNameV>
        <OutputCaloHitListNameW>CaloHitListW</OutputCaloHitListNameW>
        <OutputCaloHitListName3D>CaloHitList3D</OutputCaloHitListName3D>
        <FilteredCaloHitListName>CaloHitList2D</FilteredCaloHitListName>
        <CurrentCaloHitListReplacement>CaloHitList2D</CurrentCaloHitListReplacement>
    </algorithm>

    <!-- <algorithm type = "LArVisualMonitoring">
        <CaloHitListNames>CaloHitListW CaloHitListU CaloHitListV CaloHitList3D</CaloHitListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm> -->

    <!-- 2D neutrino reconstruction, U View -->
    <algorithm type = "LArClusteringParent">
        <algorithm type = "LArCheatingClusterCreation" description = "ClusterFormation">
            <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
            <MCParticleListName>Input</MCParticleListName>
        </algorithm>
        <InputCaloHitListName>CaloHitListU</InputCaloHitListName>
        <ClusterListName>ClustersU </ClusterListName>
        <ReplaceCurrentCaloHitList>false</ReplaceCurrentCaloHitList>
        <ReplaceCurrentClusterList>true</ReplaceCurrentClusterList>
    </algorithm>

    <!-- 2D neutrino reconstruction, V View -->
    <algorithm type = "LArClusteringParent">
        <algorithm type = "LArCheatingClusterCreation" description = "ClusterFormation">
            <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
            <MCParticleListName>Input</MCParticleListName>
        </algorithm>
        <InputCaloHitListName>CaloHitListV</InputCaloHitListName>
        <ClusterListName>ClustersV</ClusterListName>
        <ReplaceCurrentCaloHitList>false</ReplaceCurrentCaloHitList>
        <ReplaceCurrentClusterList>true</ReplaceCurrentClusterList>
    </algorithm>

    <!-- 2D neutrino reconstruction, W View -->
    <algorithm type = "LArClusteringParent">
        <algorithm type = "LArCheatingClusterCreation" description = "ClusterFormation">
            <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
            <MCParticleListName>Input</MCParticleListName>
        </algorithm>
        <InputCaloHitListName>CaloHitListW</InputCaloHitListName>
        <ClusterListName>ClustersW</ClusterListName>
        <ReplaceCurrentCaloHitList>false</ReplaceCurrentCaloHitList>
        <ReplaceCurrentClusterList>true</ReplaceCurrentClusterList>
    </algorithm>

    <!-- 3D neutrino reconstruction -->
    <algorithm type = "LArClusteringParent">
        <algorithm type = "LArCheatingClusterCreation" description = "ClusterFormation">
            <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
            <MCParticleListName>Input</MCParticleListName>
        </algorithm>
        <InputCaloHitListName>CaloHitList3D</InputCaloHitListName>
        <ClusterListName>Clusters3D</ClusterListName>
        <ReplaceCurrentCaloHitList>false</ReplaceCurrentCaloHitList>
        <ReplaceCurrentClusterList>true</ReplaceCurrentClusterList>
    </algorithm>

    <!-- 3D neutrino-induced event reconstruction -->
    <algorithm type = "LArCheatingVertexCreation">
        <OutputVertexListName>NVertices</OutputVertexListName>
        <ReplaceCurrentVertexList>true</ReplaceCurrentVertexList>
    </algorithm>
    <algorithm type = "LArCheatingPfoCreation">
        <InputClusterListNames>Clusters3D ClustersU ClustersV ClustersW</InputClusterListNames>
        <OutputPfoListName>NParticles3D</OutputPfoListName>
        <AddVertices>false</AddVertices>
        <MCParticleListName>Input</MCParticleListName>
        <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
    </algorithm>

    <!-- 3D neutrino event hierarchy -->
    <algorithm type = "LArCheatingNeutrinoCreation">
        <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
        <MCParticleListName>Input</MCParticleListName>
        <NeutrinoPfoListName>NeutrinoParticles3D</NeutrinoPfoListName>
        <VertexListName>NVertices</VertexListName>
        <DaughterPfoListNames>NParticles3D</DaughterPfoListNames>
    </algorithm>
    <algorithm type = "LArCheatingNeutrinoDaughterVertices">
        <CollapseToPrimaryMCParticles>true</CollapseToPrimaryMCParticles>
        <MCParticleListName>Input</MCParticleListName>
        <NeutrinoPfoListName>NeutrinoParticles3D</NeutrinoPfoListName>
        <OutputVertexListName>NDaughterVertices3D</OutputVertexListName>
    </algorithm>

    <!-- <algorithm type = "LArVisualMonitoring">
        <PfoListNames>NeutrinoParticles3D NParticles3D</PfoListNames>
        <VertexListNames>NVertices NDaughterVertices3D</VertexListNames>
        <ShowDetector>true</ShowDetector>
    </algorithm> -->

    <!-- Output list management -->
    <algorithm type = "LArPostProcessing">
        <PfoListNames>NeutrinoParticles3D NParticles3D</PfoListNames>
        <VertexListNames>NVertices NDaughterVertices3D</VertexListNames>
        <ClusterListNames>ClustersU ClustersV ClustersW Clusters3D</ClusterListNames>
        <CaloHitListNames>NeutrinoCaloHitList RockMuonCaloHitList CaloHitListU CaloHitListV CaloHitListW CaloHitList2D CaloHitList3D</CaloHitListNames>
        <CurrentPfoListReplacement>NeutrinoParticles3D</CurrentPfoListReplacement>
    </algorithm>
</pandora>
